use crate::player::Player;

const BITS_BOARD: u8 = 24;
const BITS_STASH: u8 = 4;
const OFFSET_BOARD_WHITE: u8 = BITS_BOARD;
const OFFSET_BOARD_BLACK: u8 = 0;
const OFFSET_STASH_WHITE: u8 = 2*BITS_BOARD+BITS_STASH;
const OFFSET_STASH_BLACK: u8 = 2*BITS_BOARD;
const MASK_STASH_WHITE: u64 = ((1 << BITS_STASH) - 1) << (2*BITS_BOARD+BITS_STASH);
const MASK_STASH_BLACK: u64 = ((1 << BITS_STASH) - 1) << (2*BITS_BOARD);
const MASK_BOARD_BLACK: u64 = (1 << BITS_BOARD) - 1;
const MASK_BOARD_WHITE: u64 = MASK_BOARD_BLACK << BITS_BOARD;

pub const MASK_MILLS: [u64;16] = [
    0b0000000000000000000000000000000000000000000000000000000000000111,
    0b0000000000000000000000000000000000000000000000000000000000011100,
    0b0000000000000000000000000000000000000000000000000000000001110000,
    0b0000000000000000000000000000000000000000000000000000000011000001,
    0b0000000000000000000000000000000000000000000000000000011100000000,
    0b0000000000000000000000000000000000000000000000000001110000000000,
    0b0000000000000000000000000000000000000000000000000111000000000000,
    0b0000000000000000000000000000000000000000000000001100000100000000,
    0b0000000000000000000000000000000000000000000001110000000000000000,
    0b0000000000000000000000000000000000000000000111000000000000000000,
    0b0000000000000000000000000000000000000000011100000000000000000000,
    0b0000000000000000000000000000000000000000110000010000000000000000,
    0b0000000000000000000000000000000000000000000000100000001000000010,
    0b0000000000000000000000000000000000000000000010000000100000001000,
    0b0000000000000000000000000000000000000000001000000010000000100000,
    0b0000000000000000000000000000000000000000100000001000000010000000
];

pub fn mask_board(player: Player) -> u64 {
    match player {
        Player::White => MASK_BOARD_WHITE,
        Player::Black => MASK_BOARD_BLACK,
    }
}

pub fn mask_stash(player: Player) -> u64 {
    match player {
        Player::White => MASK_STASH_WHITE,
        Player::Black => MASK_STASH_BLACK,
    }
}

pub fn offset_board(player: Player) -> u8 {
    match player {
        Player::White => OFFSET_BOARD_WHITE,
        Player::Black => OFFSET_BOARD_BLACK,
    }
}

pub fn offset_stash(player: Player) -> u8 {
    match player {
        Player::White => OFFSET_STASH_WHITE,
        Player::Black => OFFSET_STASH_BLACK,
    }
}
